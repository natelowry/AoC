var input = `...........................#...................#...........................................................................................#
.................................#..................................................#.................#............#......#.................
.......................#..................#...............#............#..........................................................#.........
..........#........................................#........................#............#.....#..............#.........................#...
............................................................................................................................................
.....#..........#..............#.......#.......................................................................................#............
.................................................................#...................#..............................#.......................
............................................#..............#...............................................................#................
.........................#..................................................................#..............#................................
#..................#..............#.........................................................................................................
...................................................#.........................#........................................#....................#
.............#...........................#...............................................#..................................................
...........................#...........................#.......................................#............................................
......................#..............#..........................#...................................#..............................#........
........................................................................................................................................#...
...#................................................................................#.......................................................
.....................................................#....................#.................................#..............#................
..............................................#...................................................#..................#......................
.............#.............#...................................#.....................................................................#......
..................#......................................................................#...............#..................................
...........................................................................................................................................#
......................#.....................#......................................#.............................#.............#............
....#.............................................#.............................................#...........................................
............#....................#.............................................#............................................................
#.............................................................#.......#..................................................................#..
...........................#.............................................................#...............#..................................
......#..................................................#........................................#......................#......#...........
...................................................................#.................#...............................................#......
......................#.........#...........................................................................................................
...............................................................................................#............................#...............
........#.......#............................................................#...............................#........#....................#
............................................................................................................................................
....................................#.......................................................................................................
............................................#.........................#.....................................................................
.#...............................................#..........#....................................................................#..........
................................#.................................#......................................#........#.........................
...............#.........................#...........#.......................#.....#..............#....................#....................
............................................................................................................................................
.....#.................#......................................................................................#.............................
...............................................#...............#...........................................................................#
.................#..................#......................................#..............#..............................#..................
...........................................#........................#............................................#..........................
..#......................................................#......................................#...............................#.......#...
.......#............................................................................#.......................................................
...............................#..................#..........................................................#..............#...............
.....................#................................................#.....................................................................
...............#................................................#........................................#..................................
...................................#...................................................#....................................................
...........................................#..............................#..........................#...............#...............#......
..............................#.................................................................................#.............#.............
.........#.............#.................................#..................................................................................
......................................#..............................#.....................................#...............................#
.................................#..........................................................................................................
...............#...............................................................................#..................................#.........
..................................................................#......................................................#..................
#............................................#..........#...............#...........#.......................................................
.......................................................................................................#....................................
............................................................................................................................................
............................................................#..............#.....................#..........#.............................#.
......#.........................#..........................................................................................#................
............#...........#............................................................#......#........................#................#.....
........................................#............#..............#.......................................................................
...#........................................................................................................................................
............................................................................................................................................
................#................................#...............#......#...................................................................
............................................................................................................................................
............#.................#............#...............#................#..............................................................#
#.......................#............................................................................................................#......
..................................#.........................................................#..............................#................
......#..........................................................................................................................#..........
............................#.................#.......................#..................................#..................................
...............#....................................................................................................#.....................#.
............................................................................................................................................
.........#.............................#.........#................#........#........#.......................................................
...................#...............................................................................#........................................
.........................................................#.....................................................#............................
.#..........................................................................................#................................#..........#...
.............................................#......................#..................................................#....................
..........#..........................................................................#......................................................
...........................#......................................................................#.........................................
.................#........................................#.................................................................................
.........................................................................#..............#..........................#.................#......
.................................................................#....................................#.....................................
...#.................................#.......................................................................#..............#...............
............#.............#........................#........................................................................................
....................................................................#..........................#............................................
.............................................#....................................#.......................#.....#..............#............
.....................#............#..........................................#.............................................................#
............................................................................................................................................
..........#....................................................#........................#...................................#...............
#........................................................................#........................#.........................................
................................................#.........#..............................................#.....#......#..........#..........
..............#.....#.......................................................................................................................
..............................#.............................................#.......#........#.......#...................................#..
....................................................#.......................................................................................
.............................................................#..............................................................................
.....#........................................#........................................#.............................................#......
............................#...............................................................................................................
.......................#...............................#.................................................#..................................
...........#........................#........................................................#.............................#................
...........................................................#......#......#...........................#......................................
#......#..........#............................#.....................................#...................................................#..
..............................#................................................#...............................#............................
.....................................................................#......................................................................
........................................#...................................................................................................
.....................................................#..........#.......................................................#..................#
.......................#...................................................................#.................#................#.............
#...........................#..............#..............................#.................................................................
............................................................................................................................................
........................................................................................................#...................................
............#.....#...............#.....................#.........................................................#...................#.....
..............................................................#............................................................................#
.................................................#...................................#......#............................#..................
......................................................................................................#.....................................
...#.........................#.....................................#...........#................................................#...........
................#..............................................................................#.............#..............................
......................................#....................................#..............................................................#.
.........#...............................................#..................................................................................
.......................#........................#....................#......................#...............................#.....#.........
..........................................#............................................................................................#....
......#.....#.....................#..............................#.....................#....................................................
....................................................#.......................................................................................
.#......................................................................................................................#...................
..................#........#................#...............#.............................#.................................................
..........#........................................................................#..............#...........#.....#.......................
.....................................................................#......................................................................
...#.....................................#.....#...........................#..................#.............................................
............................................................................................................................................
.....................................#.................................................................#...................#.......#........
.......................#........................................#...................#.......................................................
.....#............#..........#..............................................................................................................
#.................................................................................................#.............#..............#............
.........#.......................#..........................................................................................................
..................................................................#........................................#................................
......................#..............................#.....#...........#....................................................................
...........................................#..........................................#...............................................#.....
...............................................................................................................#............................
.............................#..................#............................................#.......................#............#.........
................#..............................................................#.....................#......................................
.......#............................#...................#............#...................................................#..................`;

if (false) {
  input = `...#......
.......#..
#.........
..........
......#...
.#........
.........#
..........
.......#..
#...#.....`;
}

var theMap = input.split("\n").map((x) => [...x]);

for (let y = 0; y < theMap.length; y++) {
  if (theMap[y].every((s) => s === ".")) {
    theMap.splice(y, 0, [...theMap[y]]);
    y++;
  }
}

for (let x = 0; x < theMap[0].length; x++) {
  if (theMap.map((m) => m[x]).every((s) => s === ".")) {
    theMap.forEach((line) => line.splice(x, 0, "."));
    x++;
  }
}

var galaxies = [];
// var id = 0;
theMap.forEach((row, y) =>
  row.forEach((val, x) => {
    if (val === "#") {
      galaxies.push({ x, y });
    //   id++;
    }
  })
);

// console.log(galaxies);

var distances = [];
for (let i = 0; i < galaxies.length; i++) {
  const currentGalaxy = galaxies[i];
  for (let j = 0; j < galaxies.length; j++) {
    if (i === j || i > j) {
      continue;
    }

    var distance = Math.abs(galaxies[i].x - galaxies[j].x) + Math.abs(galaxies[i].y - galaxies[j].y);

    // distances.push({i, j, distance});
    distances.push(distance);
  }
}

// console.log(distances);
console.log(distances.reduce((prev, curr) => prev + curr));
